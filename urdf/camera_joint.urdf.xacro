<?xml version="1.0" encoding="UTF-8"?>


<robot xmlns:xacro="http://ros.org/wiki/xacro">
	<xacro:include filename="$(find opt_view)/urdf/camera_joint.transmission.xacro" />

	<xacro:macro name="camera_joint" params="parent namespace prefix *origin">
		<!-- Links -->
		<link name="${namespace}/${prefix}camera_base_link" parent="${parent}">
			<collision>
				<origin xyz="0 0 0" rpy="0 0 0" />
				<geometry>
					<box size="0.05 0.05 0.05" />
				</geometry>
			</collision>
			<visual>
				<origin xyz="0 0 0" rpy="0 0 0" />
				<geometry>
					<box size="0.05 0.05 0.05" />
				</geometry>
			</visual>
			<inertial>
				<origin xyz="0 0 0" rpy="0 0 0" />
				<mass value="0.01" />
				<inertia ixx="0.002" ixy="0.0" ixz="0.0" iyy="0.002" iyz="0.0" izz="0.002" />
			</inertial>
		</link>

		<link name="${namespace}/${prefix}camera_link"
			parent="${namespace}/${prefix}camera_base_link">
			<visual>
				<origin  xyz="0 0 0" rpy="0 0 0" />
				<geometry>
					<mesh filename="package://opt_view/meshes/camera.dae" />
				</geometry>
			</visual>
			<collision>
				<origin xyz="0 0 0" rpy="0 0 0" />
				<geometry>
					<box size="0.05 0.05 0.05" />
				</geometry>
			</collision>
			<inertial>
				<origin xyz="0 0 0" rpy="0 0 0" />
				<mass value="0.01" />
				<inertia ixx="0.002" ixy="0.0" ixz="0.0" iyy="0.002" iyz="0.0" izz="0.002" />
			</inertial>
		</link>

		<!-- Joints -->
		<joint name="${namespace}/${prefix}camera_base_joint" type="fixed">
			<xacro:insert_block name="origin" />
			<parent link="${parent}" />
			<child link="${namespace}/${prefix}camera_base_link"/>
		</joint>
		<joint name="${namespace}/${prefix}camera_joint" type="revolute">
			<origin xyz="0 0 0" rpy="0 0 0" />
			<parent link="${namespace}/${prefix}camera_base_link" />
			<child link="${namespace}/${prefix}camera_link" />
			<axis xyz="0 0 1" />
			<limit lower="${-pi/2}" upper="${pi/2}" velocity="100" effort="100" />
		</joint>


		<xacro:widowx_arm_transmission prefix="${prefix}" namespace="${namespace}" />
	</xacro:macro>
</robot>